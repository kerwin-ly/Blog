# 正则表达式
> [MDN Web Docs about Regxp](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)

#### `{1,3}`匹配一个字符多次

```js
var reg = /ab{1,3}c/g; // {1, 3}表示匹配b字符，1-3次
var str = 'abbc  abc ac abbbc';
console.log(str.match(reg)); // [abbc abc abbbc]
```

#### `[xxx]`匹配某些字符中的任意一个

```js
var reg = /a[123]b/g; // ab中间存在1，2，3的任意一个
var str = 'a1b 12b a3b aa';
console.log(str.match(reg)); // [a1b, a3b]
```

#### `^[xxx]`除某些字符以外

```js
var reg = /a([^123])b/g;
var str = 'ajb a2b a4b';
console.log(str.match(reg)); // [ 'ajb', 'a4b' ]
```

#### 常见简写

> \d 就是[0-9]。表示是一位数字。
> \D 就是[^0-9]。表示除数字外的任意字符。
> \w 就是[0-9a-zA-Z_]。表示数字、大小写字母和下划线。
> \W 是[^0-9a-za-z_]。非单词字符。
> \s 是[ \t\v\n\r\f]。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。
> \S 是[^ \t\v\n\r\f]。 非空白符。
> .就是[^\n\r\u2028\u2029]。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。

#### 量词简写

> {m,} 表示至少出现 m 次。{m} 等价于{m,m}，表示出现 m 次。
> ? 等价于{0,1}，表示出现或者不出现。
>
> - 等价于{1,}，表示出现至少一次。
>
> * 等价于{0,}，表示出现任意次，有可能不出现。

#### 贪婪匹配：尽可能满足条件，再返回。如下：2-5 个数字，将尽可能匹配 5 以内足够多的数字

```js
var reg = /\d{2,5}/g;
var str = '123 234 22233 12345 2'; // 匹配数字2-5个，满足条件的全部筛选出来
console.log(str.match(reg)); // [ '123', '234', '22233', '12345' ]
```

#### 惰性匹配：一旦满足条件，就返回。如下：当数字数量是两位时，即返回

```js
var reg = /\d{2,5}?/g; // 添加问号修饰
var str = '123 234 22233 12345 2';
console.log(str.match(reg)); // [ '12', '23', '22', '23', '12', '34' ]
```

#### 多选分支

```js
var reg = /good|nice/g;
var str = 'goodboynice';
console.log(str.match(reg)); // [good, nice]
```

#### 正则表达式中包含变量

```js
// 如果需要在正则表达式中添加变量，必须通过new RegExp()显式创建
var re = new RegExp('^\\d+$', 'gim'); //注意，反斜杠需要转义
// 那么，给它加变量，就和我们前面写的给字符串加变量一样了。
var v = 'bl';
var re = new RegExp('^\\d+' + v + '$', 'gim'); // re为/^\d+bl$/gim
```

#### 将正则匹配到的内容替换为某个表达式的值

| 变量名    | 代表的值                                                                                                                                                                                                                             |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| $$        | 插入一个 "$"。                                                                                                                                                                                                                       |
| $&        | 插入匹配的子串。                                                                                                                                                                                                                     |
| $`        | 插入当前匹配的子串左边的内容。                                                                                                                                                                                                       |
| $'        | 插入当前匹配的子串右边的内容。                                                                                                                                                                                                       |
| $n        | 假如第一个参数是 RegExp 对象，并且 n 是个小于 100 的非负整数，那么插入第 n 个括号匹配的字符串。提示：索引是从 1 开始。如果不存在第 n 个分组，那么将会把匹配到到内容替换为字面量。比如不存在第 3 个分组，就会用“$3”替换匹配到的内容。 |
| `$<Name>` | 这里 Name 是一个分组名称。如果在正则表达式中并不存在分组（或者没有匹配），这个变量将被处理为空字符串。只有在支持命名分组捕获的浏览器中才能使用。                                                                                     |

```js
var str3 = '这是一段原始文本,"3c这要替换4d"!';
var newStr = str3.replace(/([0-9])([a-z])/g, '$1');
console.log(newStr); //输出：    这是一段原始文本,"3这要替换4"!';
```

上面的例子，1 表示 regexp 中的第一个子表示即（[0-9]）匹配单个数字，同理若是 1 表示 regexp 中的第一个子表示即（[0−9]）匹配单个数字，同理若是 2 则表示第二个子表示即（[a-z]）；所以，’3c’这个匹配到的整体被第一个子表示说表示的’3’替换，’4d’被第一个子表示匹配的数字’4’所替换。其他几个同理可得：

（/([0-9])([a-z])/g,”$2″）—>////输出： 这是一段原始文本,”c这要替换d”!'; (3c和4d被相应的第二个子表示匹配出来的c和d替换)
（/([0-9])([a-z])/g,”$'”）—>////输出： 这是一段原始文本,”这要替换 d”!这要替换”!”!'; (3c 被 3c 右侧文本替换，4d 右侧是”!替换，所以出现俩次)
